\hypertarget{_optional_8h_source}{}\doxysection{Optional.\+h}
\label{_optional_8h_source}\index{/Users/dengket/project/crts/aws-\/crt-\/cpp/include/aws/crt/Optional.h@{/Users/dengket/project/crts/aws-\/crt-\/cpp/include/aws/crt/Optional.h}}
\mbox{\hyperlink{_optional_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_aws}{Aws}}}
\DoxyCodeLine{9 \{}
\DoxyCodeLine{10     \textcolor{keyword}{namespace }Crt}
\DoxyCodeLine{11     \{}
\DoxyCodeLine{12         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{class }\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional}}}
\DoxyCodeLine{13         \{}
\DoxyCodeLine{14           \textcolor{keyword}{public}:}
\DoxyCodeLine{15             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a2d231eff6f2057ef026194c361a217d0}{Optional}}() : m\_value(nullptr) \{\}}
\DoxyCodeLine{16             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a0abaf361d1696cf727cccab1b07ae121}{Optional}}(\textcolor{keyword}{const} T \&val)}
\DoxyCodeLine{17             \{}
\DoxyCodeLine{18                 \textcolor{keyword}{new} (\&m\_storage) T(val);}
\DoxyCodeLine{19                 m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{20             \}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a7e2b73a4f0a0619ea90ab233a77a0282}{Optional}}(T \&\&val)}
\DoxyCodeLine{23             \{}
\DoxyCodeLine{24                 \textcolor{keyword}{new} (\&m\_storage) T(std::forward<T>(val));}
\DoxyCodeLine{25                 m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{26             \}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_af354cd9f9c26684d2bf0c273695dae32}{\string~Optional}}()}
\DoxyCodeLine{29             \{}
\DoxyCodeLine{30                 \textcolor{keywordflow}{if} (m\_value)}
\DoxyCodeLine{31                 \{}
\DoxyCodeLine{32                     m\_value-\/>\string~T();}
\DoxyCodeLine{33                 \}}
\DoxyCodeLine{34             \}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36             \textcolor{keyword}{template} <\textcolor{keyword}{typename} U = T> \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_adbc7f7ce525e44911ebedbc7aa662367}{operator=}}(U \&\&u)}
\DoxyCodeLine{37             \{}
\DoxyCodeLine{38                 \textcolor{keywordflow}{if} (m\_value)}
\DoxyCodeLine{39                 \{}
\DoxyCodeLine{40                     *m\_value = std::forward<U>(u);}
\DoxyCodeLine{41                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{42                 \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44                 \textcolor{keyword}{new} (\&m\_storage) T(std::forward<U>(u));}
\DoxyCodeLine{45                 m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{46 }
\DoxyCodeLine{47                 \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{48             \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a5043bb5fb2165c6a882ca3bcabca96e4}{Optional}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional<T>}} \&other)}
\DoxyCodeLine{51             \{}
\DoxyCodeLine{52                 \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{53                 \{}
\DoxyCodeLine{54                     \textcolor{keyword}{new} (\&m\_storage) T(*other.m\_value);}
\DoxyCodeLine{55                     m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{56                 \}}
\DoxyCodeLine{57                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{58                 \{}
\DoxyCodeLine{59                     m\_value = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{60                 \}}
\DoxyCodeLine{61             \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a6ab3e3d24753e6eb021af453b08ee4aa}{Optional}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional<T>}} \&\&other)}
\DoxyCodeLine{64             \{}
\DoxyCodeLine{65                 \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{66                 \{}
\DoxyCodeLine{67                     \textcolor{keyword}{new} (\&m\_storage) T(std::forward<T>(*other.m\_value));}
\DoxyCodeLine{68                     m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{69                 \}}
\DoxyCodeLine{70                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{71                 \{}
\DoxyCodeLine{72                     m\_value = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{73                 \}}
\DoxyCodeLine{74             \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76             \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a23063ebb42cff8e7645707255dfdeb96}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional}} \&other)}
\DoxyCodeLine{77             \{}
\DoxyCodeLine{78                 \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{79                 \{}
\DoxyCodeLine{80                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{81                 \}}
\DoxyCodeLine{82 }
\DoxyCodeLine{83                 \textcolor{keywordflow}{if} (m\_value)}
\DoxyCodeLine{84                 \{}
\DoxyCodeLine{85                     \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{86                     \{}
\DoxyCodeLine{87                         *m\_value = *other.m\_value;}
\DoxyCodeLine{88                     \}}
\DoxyCodeLine{89                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{90                     \{}
\DoxyCodeLine{91                         m\_value-\/>\string~T();}
\DoxyCodeLine{92                         m\_value = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{93                     \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{96                 \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{98                 \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{99                 \{}
\DoxyCodeLine{100                     \textcolor{keyword}{new} (\&m\_storage) T(*other.m\_value);}
\DoxyCodeLine{101                     m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{102                 \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104                 \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{105             \}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107             \textcolor{keyword}{template} <\textcolor{keyword}{typename} U = T> \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional<T>}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a73326d159401573a56791bc9dc3f7c71}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional<U>}} \&other)}
\DoxyCodeLine{108             \{}
\DoxyCodeLine{109                 \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{110                 \{}
\DoxyCodeLine{111                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{112                 \}}
\DoxyCodeLine{113 }
\DoxyCodeLine{114                 \textcolor{keywordflow}{if} (m\_value)}
\DoxyCodeLine{115                 \{}
\DoxyCodeLine{116                     \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{117                     \{}
\DoxyCodeLine{118                         *m\_value = *other.m\_value;}
\DoxyCodeLine{119                     \}}
\DoxyCodeLine{120                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{121                     \{}
\DoxyCodeLine{122                         m\_value-\/>\string~T();}
\DoxyCodeLine{123                         m\_value = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{124                     \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{126                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{127                 \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129                 \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{130                 \{}
\DoxyCodeLine{131                     \textcolor{keyword}{new} (\&m\_storage) T(*other.m\_value);}
\DoxyCodeLine{132                     m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{133                 \}}
\DoxyCodeLine{134 }
\DoxyCodeLine{135                 \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{136             \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138             \textcolor{keyword}{template} <\textcolor{keyword}{typename} U = T> \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional<T>}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a8f7a96a63e8cda431e2629a82dde45e4}{operator=}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional}{Optional<U>}} \&\&other)}
\DoxyCodeLine{139             \{}
\DoxyCodeLine{140                 \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{141                 \{}
\DoxyCodeLine{142                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{143                 \}}
\DoxyCodeLine{144 }
\DoxyCodeLine{145                 \textcolor{keywordflow}{if} (m\_value)}
\DoxyCodeLine{146                 \{}
\DoxyCodeLine{147                     \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{148                     \{}
\DoxyCodeLine{149                         *m\_value = std::forward<U>(*other.m\_value);}
\DoxyCodeLine{150                     \}}
\DoxyCodeLine{151                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{152                     \{}
\DoxyCodeLine{153                         m\_value-\/>\string~T();}
\DoxyCodeLine{154                         m\_value = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{155                     \}}
\DoxyCodeLine{156 }
\DoxyCodeLine{157                     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{158                 \}}
\DoxyCodeLine{159 }
\DoxyCodeLine{160                 \textcolor{keywordflow}{if} (other.m\_value)}
\DoxyCodeLine{161                 \{}
\DoxyCodeLine{162                     \textcolor{keyword}{new} (\&m\_storage) T(std::forward<U>(*other.m\_value));}
\DoxyCodeLine{163                     m\_value = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\&m\_storage);}
\DoxyCodeLine{164                 \}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166                 \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{167             \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169             \textcolor{keyword}{const} T *\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_ab7e969ca68a0a16a05e2cd3800a644d0}{operator-\/>}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_value; \}}
\DoxyCodeLine{170             T *\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_af3f63d941776045b0ce1125c998062d7}{operator-\/>}}() \{ \textcolor{keywordflow}{return} m\_value; \}}
\DoxyCodeLine{171             \textcolor{keyword}{const} T \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a09a722a69b97a6a06367dadeafb28ca4}{operator*}}() const \& \{ \textcolor{keywordflow}{return} *m\_value; \}}
\DoxyCodeLine{172             T \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a8668ea1cb7287d80233c1768e4c2503e}{operator*}}() \& \{ \textcolor{keywordflow}{return} *m\_value; \}}
\DoxyCodeLine{173             \textcolor{keyword}{const} T \&\&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a69da347ac5e58f7db5f3b2bb44054362}{operator*}}() const \&\& \{ \textcolor{keywordflow}{return} std::move(*m\_value); \}}
\DoxyCodeLine{174             T \&\&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a5a07e2cfa4cbd733b019be7fdf9f63da}{operator*}}() \&\& \{ \textcolor{keywordflow}{return} std::move(*m\_value); \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176             \textcolor{keyword}{explicit} \textcolor{keyword}{operator} bool() const noexcept \{ \textcolor{keywordflow}{return} m\_value != \textcolor{keyword}{nullptr}; \}}
\DoxyCodeLine{177             \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a4356231bdd8a67fd565f8a8211a2e770}{has\_value}}() const noexcept \{ \textcolor{keywordflow}{return} m\_value != \textcolor{keyword}{nullptr}; \}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179             T \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_ade41f0eecc6027ba2d3613b8491cc5db}{value}}() \& \{ \textcolor{keywordflow}{return} *m\_value; \}}
\DoxyCodeLine{180             \textcolor{keyword}{const} T \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a29a2bd85095d91ad434b08f267d9eacd}{value}}() const \& \{ \textcolor{keywordflow}{return} *m\_value; \}}
\DoxyCodeLine{181 }
\DoxyCodeLine{182             T \&\&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_a98c2629e37077b2f5d8a80704ebc91ec}{value}}() \&\& \{ \textcolor{keywordflow}{return} std::move(*m\_value); \}}
\DoxyCodeLine{183             \textcolor{keyword}{const} T \&\&\mbox{\hyperlink{class_aws_1_1_crt_1_1_optional_af6afcf7c211673e1d67310c5c007f707}{value}}() const \&\& \{ \textcolor{keywordflow}{return} std::move(*m\_value); \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185           \textcolor{keyword}{private}:}
\DoxyCodeLine{186             \textcolor{keyword}{typename} std::aligned\_storage<\textcolor{keyword}{sizeof}(T)>::\mbox{\hyperlink{namespace_aws_a5256b1ff01fae77769fee34ff8ef45a7}{type}} m\_storage;}
\DoxyCodeLine{187             T *m\_value;}
\DoxyCodeLine{188         \};}
\DoxyCodeLine{189     \} \textcolor{comment}{// namespace Crt}}
\DoxyCodeLine{190 \} \textcolor{comment}{// namespace Aws}}

\end{DoxyCode}
