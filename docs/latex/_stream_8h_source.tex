\hypertarget{_stream_8h_source}{}\doxysection{Stream.\+h}
\label{_stream_8h_source}\index{/Users/dengket/project/crts/aws-\/crt-\/cpp/include/aws/crt/io/Stream.h@{/Users/dengket/project/crts/aws-\/crt-\/cpp/include/aws/crt/io/Stream.h}}
\mbox{\hyperlink{_stream_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_exports_8h}{aws/crt/Exports.h}}>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_types_8h}{aws/crt/Types.h}}>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <aws/io/stream.h>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_aws}{Aws}}}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13     \textcolor{keyword}{namespace }Crt}
\DoxyCodeLine{14     \{}
\DoxyCodeLine{15         \textcolor{keyword}{namespace }Io}
\DoxyCodeLine{16         \{}
\DoxyCodeLine{17             \textcolor{keyword}{using} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_a610cfe7a844d9e8b9ea7e319bc1ed1ea}{StreamStatus}} = aws\_stream\_status;}
\DoxyCodeLine{18 }
\DoxyCodeLine{22             \textcolor{keyword}{using} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_af399239ad685d64f2f5b88a0906a232c}{OffsetType}} = aws\_off\_t;}
\DoxyCodeLine{23 }
\DoxyCodeLine{24             \textcolor{keyword}{enum class} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}}}
\DoxyCodeLine{25             \{}
\DoxyCodeLine{26                 \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0a1a06729125544cab7cee73195fc044f0}{Begin}} = AWS\_SSB\_BEGIN,}
\DoxyCodeLine{27                 \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0a87557f11575c0ad78e4e28abedc13b6e}{End}} = AWS\_SSB\_END,}
\DoxyCodeLine{28             \};}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{            /***}}
\DoxyCodeLine{31 \textcolor{comment}{             * Interface for building an Object oriented stream that will be honored by the CRT's low-\/level}}
\DoxyCodeLine{32 \textcolor{comment}{             * aws\_input\_stream interface. To use, create a subclass of InputStream and define the abstract}}
\DoxyCodeLine{33 \textcolor{comment}{             * functions.}}
\DoxyCodeLine{34 \textcolor{comment}{             */}}
\DoxyCodeLine{35             \textcolor{keyword}{class }\mbox{\hyperlink{_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}}}
\DoxyCodeLine{36             \{}
\DoxyCodeLine{37               \textcolor{keyword}{public}:}
\DoxyCodeLine{38                 \textcolor{keyword}{virtual} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{\string~InputStream}}();}
\DoxyCodeLine{39 }
\DoxyCodeLine{40                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a4c90e7c1e55cc9c68f0e4ed5f098c393}{InputStream}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{41                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a194d94f19ad559a6b17aa441e4e4168d}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{42                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a4c6094ba9a7457d1406b23c625c817eb}{InputStream}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{43                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a2e6b9d8eae0e1a8990fd299e25e49f41}{operator=}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45                 \textcolor{keyword}{explicit} \textcolor{keyword}{operator} bool() const noexcept \{ \textcolor{keywordflow}{return} IsValid(); \}}
\DoxyCodeLine{46                 \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a103064353d7d3d35ecaca566e48febe3}{IsValid}}() const noexcept = 0;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48                 aws\_input\_stream *GetUnderlyingStream() noexcept \{ \textcolor{keywordflow}{return} \&m\_underlying\_stream; \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a63148e32fbcb9b8c607e3b0b038f2e88}{Read}}(\mbox{\hyperlink{namespace_aws_1_1_crt_aa760a7d9714d6c28091c2b1cf7029876}{ByteBuf}} \&dest) \{ \textcolor{keywordflow}{return} aws\_input\_stream\_read(\&m\_underlying\_stream, \&dest) == 0; \}}
\DoxyCodeLine{51                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a5419f9c8da23c11c58f93ee878b945d6}{Seek}}(int64\_t \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}} seekBasis)}
\DoxyCodeLine{52                 \{}
\DoxyCodeLine{53                     \textcolor{keywordflow}{return} aws\_input\_stream\_seek(\&m\_underlying\_stream, \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, (aws\_stream\_seek\_basis)seekBasis) == 0;}
\DoxyCodeLine{54                 \}}
\DoxyCodeLine{55                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a710e72d2234c334663801a98106c92ac}{GetStatus}}(\mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_a610cfe7a844d9e8b9ea7e319bc1ed1ea}{StreamStatus}} \&status)}
\DoxyCodeLine{56                 \{}
\DoxyCodeLine{57                     \textcolor{keywordflow}{return} aws\_input\_stream\_get\_status(\&m\_underlying\_stream, \&status) == 0;}
\DoxyCodeLine{58                 \}}
\DoxyCodeLine{59                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_aa50980fbe2d533a751a1f37a96266730}{GetLength}}(int64\_t \&\mbox{\hyperlink{namespace_aws_a52c438299b08516e5d87b48ded603a6e}{length}})}
\DoxyCodeLine{60                 \{}
\DoxyCodeLine{61                     \textcolor{keywordflow}{return} aws\_input\_stream\_get\_length(\&m\_underlying\_stream, \&\mbox{\hyperlink{namespace_aws_a52c438299b08516e5d87b48ded603a6e}{length}}) == 0;}
\DoxyCodeLine{62                 \}}
\DoxyCodeLine{63 }
\DoxyCodeLine{64               \textcolor{keyword}{protected}:}
\DoxyCodeLine{65                 \mbox{\hyperlink{namespace_aws_1_1_crt_a3c9efb213e2de565038afcfd4f8afcda}{Allocator}} *\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a336d789eab234c8a4f5226ce535c7c7d}{m\_allocator}};}
\DoxyCodeLine{66                 aws\_input\_stream \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a2d2f659060cab549b200711948b7c158}{m\_underlying\_stream}};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}}(\mbox{\hyperlink{namespace_aws_1_1_crt_a3c9efb213e2de565038afcfd4f8afcda}{Aws::Crt::Allocator}} *allocator = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}});}
\DoxyCodeLine{69 }
\DoxyCodeLine{70 \textcolor{comment}{                /***}}
\DoxyCodeLine{71 \textcolor{comment}{                 * Read up-\/to buffer::capacity -\/ buffer::len into buffer::buffer}}
\DoxyCodeLine{72 \textcolor{comment}{                 * Increment buffer::len by the amount you read in.}}
\DoxyCodeLine{73 \textcolor{comment}{                 *}}
\DoxyCodeLine{74 \textcolor{comment}{                 * @return true on success, false otherwise. Return false, when there is nothing left to read.}}
\DoxyCodeLine{75 \textcolor{comment}{                 * You SHOULD raise an error via aws\_raise\_error()}}
\DoxyCodeLine{76 \textcolor{comment}{                 * if an actual failure condition occurs.}}
\DoxyCodeLine{77 \textcolor{comment}{                 */}}
\DoxyCodeLine{78                 \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a2881d8accf87c8f772b820baebb84775}{ReadImpl}}(\mbox{\hyperlink{namespace_aws_1_1_crt_aa760a7d9714d6c28091c2b1cf7029876}{ByteBuf}} \&\mbox{\hyperlink{namespace_aws_ab680d00d3625d576b9160710e643da63}{buffer}}) \textcolor{keyword}{noexcept} = 0;}
\DoxyCodeLine{79 }
\DoxyCodeLine{83                 \textcolor{keyword}{virtual} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_a610cfe7a844d9e8b9ea7e319bc1ed1ea}{StreamStatus}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a4318d7da0fa035074515decdc0525f22}{GetStatusImpl}}() const noexcept = 0;}
\DoxyCodeLine{84 }
\DoxyCodeLine{89                 virtual int64\_t GetLengthImpl() const noexcept = 0;}
\DoxyCodeLine{90 }
\DoxyCodeLine{100                 virtual \textcolor{keywordtype}{bool} SeekImpl(int64\_t \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}} seekBasis) noexcept = 0;}
\DoxyCodeLine{101 }
\DoxyCodeLine{102               private:}
\DoxyCodeLine{103                 static \textcolor{keywordtype}{int} s\_Seek(aws\_input\_stream *stream, int64\_t \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, enum aws\_stream\_seek\_basis basis);}
\DoxyCodeLine{104                 static \textcolor{keywordtype}{int} s\_Read(aws\_input\_stream *stream, aws\_byte\_buf *dest);}
\DoxyCodeLine{105                 static \textcolor{keywordtype}{int} s\_GetStatus(aws\_input\_stream *stream, aws\_stream\_status *status);}
\DoxyCodeLine{106                 static \textcolor{keywordtype}{int} s\_GetLength(struct aws\_input\_stream *stream, int64\_t *out\_length);}
\DoxyCodeLine{107                 static \textcolor{keywordtype}{void} s\_Destroy(struct aws\_input\_stream *stream);}
\DoxyCodeLine{108 }
\DoxyCodeLine{109                 static aws\_input\_stream\_vtable s\_vtable;}
\DoxyCodeLine{110             \};}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 \textcolor{comment}{            /***}}
\DoxyCodeLine{113 \textcolor{comment}{             * Implementation of Aws::Crt::Io::InputStream that wraps a std::input\_stream.}}
\DoxyCodeLine{114 \textcolor{comment}{             */}}
\DoxyCodeLine{115             class \mbox{\hyperlink{_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_std_i_o_stream_input_stream}{StdIOStreamInputStream}} : public \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}}}
\DoxyCodeLine{116             \{}
\DoxyCodeLine{117               \textcolor{keyword}{public}:}
\DoxyCodeLine{118                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_std_i_o_stream_input_stream}{StdIOStreamInputStream}}(}
\DoxyCodeLine{119                     std::shared\_ptr<Aws::Crt::Io::IStream> stream,}
\DoxyCodeLine{120                     \mbox{\hyperlink{namespace_aws_1_1_crt_a3c9efb213e2de565038afcfd4f8afcda}{Aws::Crt::Allocator}} *allocator = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}}) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{121 }
\DoxyCodeLine{122                 \textcolor{keywordtype}{bool} IsValid() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{123 }
\DoxyCodeLine{124               \textcolor{keyword}{protected}:}
\DoxyCodeLine{125                 \textcolor{keywordtype}{bool} ReadImpl(\mbox{\hyperlink{namespace_aws_1_1_crt_aa760a7d9714d6c28091c2b1cf7029876}{ByteBuf}} \&\mbox{\hyperlink{namespace_aws_ab680d00d3625d576b9160710e643da63}{buffer}}) \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{126                 \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_a610cfe7a844d9e8b9ea7e319bc1ed1ea}{StreamStatus}} GetStatusImpl() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{127                 int64\_t GetLengthImpl() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{128                 \textcolor{keywordtype}{bool} SeekImpl(\mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_af399239ad685d64f2f5b88a0906a232c}{OffsetType}} offsetType, \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}} seekBasis) \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{129 }
\DoxyCodeLine{130               \textcolor{keyword}{private}:}
\DoxyCodeLine{131                 std::shared\_ptr<Aws::Crt::Io::IStream> m\_stream;}
\DoxyCodeLine{132             \};}
\DoxyCodeLine{133         \} \textcolor{comment}{// namespace Io}}
\DoxyCodeLine{134     \}     \textcolor{comment}{// namespace Crt}}
\DoxyCodeLine{135 \} \textcolor{comment}{// namespace Aws}}

\end{DoxyCode}
